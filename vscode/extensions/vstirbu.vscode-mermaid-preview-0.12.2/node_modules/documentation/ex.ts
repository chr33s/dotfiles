import Service from './service'
import ChatClient from './chat-client'
import WalletClient from './wallet-client'
import TeamClient from './team-client'
import {BotInfo} from './utils/keybaseStatus'
import mkdirp from 'mkdirp'
import {randomTempDir, whichKeybase, rmdirRecursive} from './utils'
import {promisify} from 'util'
import {copyFile} from 'fs'
import path from 'path'
import {InitOptions} from './utils/options'

/** A Keybase bot. */
class Bot {
  public chat: ChatClient // FAILS ON THIS LINE
  public wallet: WalletClient
  public team: TeamClient
  private _workingDir: string // where KB binary copied, and homeDir (if not existing svc)
  private _service: Service

  /**
   * Create a bot. Note you can't do much too exciting with your bot after you instantiate it; you have to initialize it first.
   * @memberof Bot
   * @example
   * const bot = new Bot()
   */
  public constructor() {
    this._workingDir = randomTempDir()
    this._service = new Service(this._workingDir)
    this.chat = new ChatClient(this._workingDir)
    this.wallet = new WalletClient(this._workingDir)
    this.team = new TeamClient(this._workingDir)
  }
}
